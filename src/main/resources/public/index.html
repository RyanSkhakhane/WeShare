<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>WeShare</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
</head>

<body>
<h1>WeShare</h1>

<br />
<div id="app">
    <p>You are not logged in!</p>
    <br />
    <form  id="login-form">
        <label for="email">Enter your email</label>
        <input name="email" id="email" type="email" autofocus required>
        <input id="submit" type="submit" value="Login"/>
    </form>
</div>
<script id="default-template" type="text/handlebars-template">

    </script>


    <script id="expenses-template" type="text/handlebars-template">
        
    
        <nav>
            <a href="#/expense">Expense</a>
            <a href="#/paymentrequests_sent">Payment Request Sent</a>
            <a href="#/paymentrequests_received">Payment Request Received </a>
            <a href="#/logout">Logout</a>
        </nav>
    
        <h2>My Expenses</h2>
        
        <a href="#/add_new_expense">Add a new expense</a>
    
        <table>
            <thead>
                <td>When</td>
                <td>What</td>
                <td>Amount Spent</td>
                <td>Payments Requested</td>
                <td>Payments Received</td>
                <td>Net Expenses</td>
            </thead>
            <tbody>
            {{#each expenses}}
            <tr>
                <td>{{this.date}}</td>
                <td>{{this.description}}</td>
                <td>{{this.amount}}</td>
                <td>{{this.totalPaymentsRequested}}</td>
                <td>{{this.totalPaymentsReceived}}</td>
                <td>{{this.nettAmount}}</td>
            </tr>
            {{/each}}
       
            </tbody>
            <tfoot>
                <td colspan=5>Total Expenses</td>
                <td>{{grandTotal}}</td>
            </tfoot>
        </table>
    </script>

    <script id="add_new_expense-template" type="text/handlebars-template">

        <nav>
            <a href="#/expense">Expense</a>
            <a href="#/paymentrequests_sent">Payment Request Sent</a>
            <a href="#/paymentrequests_received">Payment Request Received </a>
            <a href="#/logout">Logout</a>
        </nav>
        <form>
            <label for="description"><b>Description</b></label>
            <input type="text" id="description" name="description">
            <label for="date">Date(dd/mm/yyyy e.g 21/10/2021)</label>
            <input type="text" id="date" name="date"    pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" required>
            <label for="amount">Amount(no cents allowed)</label>
            <input type="number" id="amount" name="amount" min="1">
            <input id="submit" type="submit" value="Submit"/>
        </form>
    </script>

        

<script id="paymentrequests_sent-template" type="text/handlebars-template">

<div id="payment-sent-content">
    <h1>People that owes me</h1>
    {{#if amount}}

    <table>
        <tr>
            <th>Who</th>
            <th>What</th>
            <th>Due in</th>
            <th>How much</th>
        </tr>
        <tr >

            <td>{{toPersonId}}</td>
            <td>{{expenseId}}</td>
            <td>{{date}}</td>
            <td>{{amount}}</td>
        </tr>
    </table>

    {{else}}
    <p>Nobody owes you anything!</p>
    {{/if}}
</div>

</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
<!-- the vanilla-router library-->
<script src="https://cdn.jsdelivr.net/npm/vanilla-router@1.2.8/index.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
<script type="text/javascript" src="/app.js"></script>
</body>

</html>